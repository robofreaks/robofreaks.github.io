(this.webpackJsonprobofreaks=this.webpackJsonprobofreaks||[]).push([[31],{508:function(e,t,s){},839:function(e,t,s){"use strict";s.r(t);var o=s(1),n=s(23),i=s(9),c=s(10),l=s(14),a=s(15),r=s(16),d=s(79),u=s(0),h=s(20),j=s(516),b=s(460),p=s(495),f=s(515),m=s(467),O=s(45),x=s(154),g=s(461),y=s(598),v=s(550),w=s(526),k=s(529),C=s(454),N=s(490),S=s(489),_=s.n(S),F=s(216),Q=s(218),q=s(453),B=s(716),L=s.n(B),M=(s(508),s(604)),D=s(869),T=s(455),W=s(840),A=s(456),J=s(417),P=s(715),E=s.n(P),R=s(155),X=Object(m.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},hover:{"&:hover":{backgroundColor:"#f7f7f7"}},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},cardroot:{maxWidth:50},overlay:{position:"absolute",top:0,left:0,backgroundColor:"white",opacity:.2,color:"black",height:"100%",width:"100%"},n_overlay:{display:"none"},content:{overflowX:"hidden"}}}));function z(e){var t=e.course,s=e.module,n=e.threads,i=X(),c=null;return n.length>0?(c=n.map((function(e,n){return Object(o.jsx)(O.b,{to:"/forum/".concat(t,"/").concat(s,"/").concat(e.id),style:{textDecoration:"none",color:"black"},children:Object(o.jsx)(p.a,{className:i.hover,children:Object(o.jsx)(f.a,{primary:e.title,secondary:"By ".concat(e.author)})})})})),Object(o.jsx)(b.a,{className:i.root,children:c})):Object(o.jsx)("div",{children:"No Match"})}function G(e){var t=e.open,s=e.handleClose,n=e.postQuestion,i=e.slots,c=e.files,l=e.setFiles,a=X(),r=Object(u.useState)(!1),h=Object(d.a)(r,2),j=h[0],b=h[1],p=Object(u.useState)(null),f=Object(d.a)(p,2),m=f[0],O=f[1],x=function(){l([],!0),b(!1),s()};return Object(o.jsxs)(y.a,{className:"editModal",fullWidth:!0,open:t,onClose:x,scroll:"body","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(o.jsxs)("div",{className:"d-flex flex-row",children:[Object(o.jsx)(k.a,{id:"scroll-dialog-title",children:"Ask Question"}),Object(o.jsx)("div",{className:"ml-auto",children:Object(o.jsx)(v.a,{children:Object(o.jsx)(g.a,{style:{backgroundColor:"white",outline:"none"},children:Object(o.jsx)(_.a,{onClick:x,style:{backgroundColor:"white",margin:10}})})})})]}),Object(o.jsx)(w.a,{dividers:!0,className:a.content,children:Object(o.jsxs)(N.LocalForm,{onSubmit:function(e){return function(e,t){b(!1),s(),n(e,t,m)}(e,c)},children:[Object(o.jsxs)(C.a,{row:!0,style:{marginBottom:15},children:[Object(o.jsx)("label",{htmlFor:"question",children:"Question"}),Object(o.jsx)(N.Control,{type:"text",model:".question",id:"question",name:"question",placeholder:"question",style:{width:"100%"}})]}),Object(o.jsxs)(C.a,{row:!0,style:{marginBottom:15},children:[Object(o.jsx)("label",{htmlFor:"description",children:"Description"}),Object(o.jsx)(N.Control,{component:"textarea",model:".description",id:"description",name:"description",placeholder:"description",style:{width:"100%"}})]}),Object(o.jsx)(C.a,{row:!0,children:Object(o.jsx)(M.a,{control:Object(o.jsx)(D.a,{onChange:function(e){b(e.target.checked)},name:"live"}),label:"Discuss Live"})}),j?Object(o.jsx)(C.a,{row:!0,style:{marginBottom:15},children:Object(o.jsx)("div",{children:i.length>0?Object(o.jsx)("div",{className:"row justify-content-center",children:i.map((function(e,t){return e.is_available?Object(o.jsx)(T.a,{onClick:function(){O(e.id)},style:{margin:5,width:170,outline:"none",background:"rgba(0, 0, 0, 0.54)",color:"white"},children:Object(o.jsxs)(W.a,{style:{outline:"none"},children:[Object(o.jsxs)(A.a,{children:[Object(o.jsx)("div",{className:"row justify-content-center",children:Object(o.jsx)(E.a,{})}),Object(o.jsxs)(J.a,{align:"center",children:[new Date(e.starts_at).toDateString(),","]}),Object(o.jsx)(J.a,{align:"center",children:new Date(e.starts_at).toTimeString()})]}),Object(o.jsx)("div",{className:m===e.id?a.overlay:a.n_overlay})]})},t):null}))}):null})}):null,Object(o.jsxs)(C.a,{row:!0,style:{marginBottom:15},children:[Object(o.jsxs)(g.a,{variant:"contained",component:"label",color:"secondary",fullWidth:!0,children:["Attachments \xa0",Object(o.jsx)("input",{type:"file",id:"files",name:"files",multiple:!0,onChange:function(e){l(e.target.files,!1)},accept:"image/*",style:{outline:"none",display:"none"}})]}),Object.values(c).map((function(e){return Object(o.jsx)("div",{children:e.name})}))]}),Object(o.jsx)(C.a,{row:!0,style:{marginBottom:15},children:Object(o.jsx)(g.a,{variant:"contained",type:"submit",fullWidth:!0,style:{backgroundColor:"#09bfad",color:"white",outline:"none"},children:"Post"})})]})})]})}var H=function(e){Object(a.a)(s,e);var t=Object(r.a)(s);function s(e){var o;return Object(i.a)(this,s),(o=t.call(this,e)).state={open:!1,search:null,files:[]},o.toggleModal=o.toggleModal.bind(Object(l.a)(o)),o.postQuestion=o.postQuestion.bind(Object(l.a)(o)),o.setFiles=o.setFiles.bind(Object(l.a)(o)),o.successCreate=o.successCreate.bind(Object(l.a)(o)),o}return Object(c.a)(s,[{key:"toggleModal",value:function(){this.setState({open:!this.state.open})}},{key:"postQuestion",value:function(e,t,s){this.props.createThread(this.props.forum_id,this.props.module_id,this.props.module,e.question,e.description,t,null,s,this.successCreate)}},{key:"successCreate",value:function(e){this.props.history.push("/forum/".concat(this.props.course,"/").concat(this.props.module,"/").concat(e))}},{key:"setFiles",value:function(e,t){if(t)this.setState({files:[]});else{for(var s=this.state.files,o=[],i=[],c=[],l=0;l<e.length;++l)for(var a=0;a<s.length;++a)e[l].name===s[a].name&&o.push(l);i=Object.values(e);for(var r=0;r<o.length;++r)i.splice(o[r],1,null);i=i.filter((function(e){return null!==e})),(c=Object.values(s)).pop(),i=c.concat(i);var d=Object(n.a)({},i);d.length=Object.keys(d).length,this.setState({files:d})}}},{key:"render",value:function(){var e=this;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(j.a,{className:"forum",maxWidth:"lg",style:{marginBottom:40},children:[Object(o.jsxs)("div",{style:{display:"flex",flex:"row"},children:[Object(o.jsx)("div",{children:Object(o.jsx)("h2",{children:this.props.module})}),Object(o.jsxs)("div",{style:{marginLeft:"auto",display:"flex",flex:"row"},children:[Object(o.jsxs)(F.a,{component:"form",style:{marginRight:5},children:[Object(o.jsx)(Q.a,{style:{marginLeft:10},placeholder:"Search",onChange:function(t){e.setState({search:t.target.value})},inputProps:{"aria-label":"search google maps"}}),Object(o.jsx)(q.a,{type:"submit","aria-label":"search",children:Object(o.jsx)(L.a,{})})]}),Object(o.jsx)(g.a,{variant:"contained",style:{backgroundColor:"#09bfad",color:"white",outline:"none"},onClick:function(){e.props.fetchSlots(e.props.course),e.toggleModal()},children:"Ask Question"}),Object(o.jsx)(G,{slots:this.props.slots,open:this.state.open,handleClose:this.toggleModal,postQuestion:this.postQuestion,setFiles:this.setFiles,files:this.state.files})]})]}),Object(o.jsx)("hr",{}),this.props.threads.length>0?Object(o.jsx)(z,{threads:this.props.threads.filter((function(t){return null===e.state.search||t.title.toLowerCase().includes(e.state.search.toLowerCase())?t:null})),module:this.props.module,course:this.props.course}):Object(o.jsx)("div",{children:"No questions yet, click the above button to add your question"})]}),Object(o.jsx)(x.a,{})]})}}]),s}(u.Component);t.default=Object(h.h)((function(e){var t=Object(h.g)(),s=t.course,n=t.forum_id,i=t.module,c=t.module_id,l=function(){},a=function(){e.history.push("/home")};return Object(u.useEffect)((function(){e.fetchThreads(c,l,a)}),[]),e.forum.threads.length>=0?Object(o.jsx)(H,{course:s,forum_id:n,module:i,module_id:c,slots:e.forum.slots,threads:e.forum.threads,createThread:e.createThread,fetchSlots:e.fetchSlots,history:e.history}):Object(o.jsx)("div",{className:"loader",children:Object(o.jsx)(R.a,{})})}))}}]);
//# sourceMappingURL=31.20639d2b.chunk.js.map