(this.webpackJsonprobofreaks=this.webpackJsonprobofreaks||[]).push([[30],{508:function(e,t,o){},834:function(e,t,o){"use strict";o.r(t);var s=o(1),l=o(27),n=o(9),c=o(10),i=o(14),r=o(15),a=o(16),d=o(79),u=o(0),h=o(20),j=o(514),b=o(461),p=o(501),f=o(513),m=o(467),g=o(45),O=o(154),x=o(462),y=o(598),v=o(555),k=o(527),w=o(526),C=o(454),N=o(489),S=o(490),F=o.n(S),_=o(216),Q=o(218),q=o(453),B=o(712),L=o.n(B),M=(o(508),o(601)),D=o(866),T=o(456),W=o(835),A=o(457),J=o(417),P=o(711),E=o.n(P),R=o(155),X=Object(m.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},hover:{"&:hover":{backgroundColor:"#f7f7f7"}},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},cardroot:{maxWidth:50},overlay:{position:"absolute",top:0,left:0,backgroundColor:"white",opacity:.2,color:"black",height:"100%",width:"100%"},n_overlay:{display:"none"},content:{overflowX:"hidden"}}}));function z(e){var t=e.course,o=e.module,l=e.threads,n=X(),c=null;return l.length>0?(c=l.map((function(e,l){return Object(s.jsx)(g.b,{to:"/forum/".concat(t,"/").concat(o,"/").concat(e.id),style:{textDecoration:"none",color:"black"},children:Object(s.jsx)(p.a,{className:n.hover,children:Object(s.jsx)(f.a,{primary:e.title,secondary:"By ".concat(e.author)})})})})),Object(s.jsx)(b.a,{className:n.root,children:c})):Object(s.jsx)("div",{children:"No Match"})}function G(e){var t=e.open,o=e.handleClose,l=e.postQuestion,n=e.slots,c=e.files,i=e.setFiles,r=X(),a=Object(u.useState)(!1),h=Object(d.a)(a,2),j=h[0],b=h[1],p=Object(u.useState)(null),f=Object(d.a)(p,2),m=f[0],g=f[1],O=function(){i([],!0),b(!1),o()};return Object(s.jsxs)(y.a,{className:"editModal",fullWidth:!0,open:t,onClose:O,scroll:"body","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(s.jsxs)("div",{className:"d-flex flex-row",children:[Object(s.jsx)(w.a,{id:"scroll-dialog-title",children:"Ask Question"}),Object(s.jsx)("div",{className:"ml-auto",children:Object(s.jsx)(v.a,{children:Object(s.jsx)(x.a,{style:{backgroundColor:"white",outline:"none"},children:Object(s.jsx)(F.a,{onClick:O,style:{backgroundColor:"white",margin:10}})})})})]}),Object(s.jsx)(k.a,{dividers:!0,className:r.content,children:Object(s.jsxs)(N.LocalForm,{onSubmit:function(e){return function(e,t){console.log(e,t),b(!1),o(),l(e,t,m)}(e,c)},children:[Object(s.jsxs)(C.a,{row:!0,style:{marginBottom:15},children:[Object(s.jsx)("label",{htmlFor:"question",children:"Question"}),Object(s.jsx)(N.Control,{type:"text",model:".question",id:"question",name:"question",placeholder:"question",style:{width:"100%"}})]}),Object(s.jsxs)(C.a,{row:!0,style:{marginBottom:15},children:[Object(s.jsx)("label",{htmlFor:"description",children:"Description"}),Object(s.jsx)(N.Control,{component:"textarea",model:".description",id:"description",name:"description",placeholder:"description",style:{width:"100%"}})]}),Object(s.jsx)(C.a,{row:!0,children:Object(s.jsx)(M.a,{control:Object(s.jsx)(D.a,{onChange:function(e){b(e.target.checked),console.log(e.target.checked)},name:"live"}),label:"Discuss Live"})}),j?Object(s.jsx)(C.a,{row:!0,style:{marginBottom:15},children:Object(s.jsx)("div",{children:n.length>0?Object(s.jsx)("div",{className:"row justify-content-center",children:n.map((function(e,t){return e.is_available?Object(s.jsx)(T.a,{onClick:function(){g(e.id)},style:{margin:5,width:170,outline:"none",background:"rgba(0, 0, 0, 0.54)",color:"white"},children:Object(s.jsxs)(W.a,{style:{outline:"none"},children:[Object(s.jsxs)(A.a,{children:[Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)(E.a,{})}),Object(s.jsxs)(J.a,{align:"center",children:[new Date(e.starts_at).toDateString(),","]}),Object(s.jsx)(J.a,{align:"center",children:new Date(e.starts_at).toTimeString()})]}),Object(s.jsx)("div",{className:m===e.id?r.overlay:r.n_overlay})]})},t):null}))}):null})}):null,Object(s.jsxs)(C.a,{row:!0,style:{marginBottom:15},children:[Object(s.jsxs)(x.a,{variant:"contained",component:"label",color:"secondary",fullWidth:!0,children:["Attachments \xa0",Object(s.jsx)("input",{type:"file",id:"files",name:"files",multiple:!0,onChange:function(e){i(e.target.files,!1)},accept:"image/*",style:{outline:"none",display:"none"}})]}),Object.values(c).map((function(e){return Object(s.jsx)("div",{children:e.name})}))]}),Object(s.jsx)(C.a,{row:!0,style:{marginBottom:15},children:Object(s.jsx)(x.a,{variant:"contained",type:"submit",fullWidth:!0,style:{backgroundColor:"#09bfad",color:"white",outline:"none"},children:"Post"})})]})})]})}var H=function(e){Object(r.a)(o,e);var t=Object(a.a)(o);function o(e){var s;return Object(n.a)(this,o),(s=t.call(this,e)).state={open:!1,search:null,files:[]},s.toggleModal=s.toggleModal.bind(Object(i.a)(s)),s.postQuestion=s.postQuestion.bind(Object(i.a)(s)),s.setFiles=s.setFiles.bind(Object(i.a)(s)),s.successCreate=s.successCreate.bind(Object(i.a)(s)),s}return Object(c.a)(o,[{key:"toggleModal",value:function(){this.setState({open:!this.state.open})}},{key:"postQuestion",value:function(e,t,o){console.log(e,this.props.module,this.props.course),this.props.createThread(this.props.forum_id,this.props.module_id,this.props.module,e.question,e.description,t,null,o,this.successCreate)}},{key:"successCreate",value:function(e){console.log(this.props.course),this.props.history.push("/forum/".concat(this.props.course,"/").concat(this.props.module,"/").concat(e))}},{key:"setFiles",value:function(e,t){if(console.log("calllleeeeeeeeddddddddddd"),t)this.setState({files:[]});else{console.log(e);for(var o=this.state.files,s=[],n=[],c=[],i=0;i<e.length;++i)for(var r=0;r<o.length;++r)e[i].name===o[r].name&&(console.log("files[i].name",e[i].name),console.log("prevFiles[j].name",o[r].name),s.push(i));console.log("arr",s),n=Object.values(e),console.log("arr1 before",n);for(var a=0;a<s.length;++a)console.log(a),n.splice(s[a],1,null),console.log(n);n=n.filter((function(e){return null!==e})),console.log("arr1",n),(c=Object.values(o)).pop(),console.log("arr2",c),n=c.concat(n);var d=Object(l.a)({},n);d.length=Object.keys(d).length,console.log("final",d),this.setState({files:d}),console.log(this.state.files)}}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[console.log(this.state.files),Object(s.jsxs)(j.a,{className:"forum",maxWidth:"lg",style:{marginBottom:40},children:[Object(s.jsxs)("div",{style:{display:"flex",flex:"row"},children:[Object(s.jsx)("div",{children:Object(s.jsx)("h2",{children:this.props.module})}),Object(s.jsxs)("div",{style:{marginLeft:"auto",display:"flex",flex:"row"},children:[Object(s.jsxs)(_.a,{component:"form",style:{marginRight:5},children:[Object(s.jsx)(Q.a,{style:{marginLeft:10},placeholder:"Search",onChange:function(t){console.log(t.target.value),e.setState({search:t.target.value})},inputProps:{"aria-label":"search google maps"}}),Object(s.jsx)(q.a,{type:"submit","aria-label":"search",children:Object(s.jsx)(L.a,{})})]}),Object(s.jsx)(x.a,{variant:"contained",style:{backgroundColor:"#09bfad",color:"white",outline:"none"},onClick:function(){e.props.fetchSlots(e.props.course),e.toggleModal()},children:"Ask Question"}),Object(s.jsx)(G,{slots:this.props.slots,open:this.state.open,handleClose:this.toggleModal,postQuestion:this.postQuestion,setFiles:this.setFiles,files:this.state.files})]})]}),Object(s.jsx)("hr",{}),this.props.threads.length>0?Object(s.jsx)(z,{threads:this.props.threads.filter((function(t){return null===e.state.search||t.title.toLowerCase().includes(e.state.search.toLowerCase())?t:null})),module:this.props.module,course:this.props.course}):Object(s.jsx)("div",{children:"No questions yet, click the above button to add your question"})]}),Object(s.jsx)(O.a,{})]})}}]),o}(u.Component);t.default=Object(h.h)((function(e){var t=Object(h.g)(),o=t.course,l=t.forum_id,n=t.module,c=t.module_id,i=function(){console.log("success")},r=function(){e.history.push("/home")};return Object(u.useEffect)((function(){e.fetchThreads(c,i,r)}),[]),console.log(0===e.forum.threads.length),e.forum.threads.length>=0?(console.log(e.forum.threads),Object(s.jsx)(H,{course:o,forum_id:l,module:n,module_id:c,slots:e.forum.slots,threads:e.forum.threads,createThread:e.createThread,fetchSlots:e.fetchSlots,history:e.history})):Object(s.jsx)("div",{className:"loader",children:Object(s.jsx)(R.a,{})})}))}}]);
//# sourceMappingURL=30.bb448b8b.chunk.js.map